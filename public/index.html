<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Homies Chat</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dm-friends.css">
    <link rel="stylesheet" href="css/friends.css">
    <link rel="stylesheet" href="css/app-icon.css">
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #0fd7f16c;
            --background-color: #f9f9f9;
            --text-color: #333;
        }
        
        body {
            background-color: var(--background-color);
            color: var(--text-color);
        }
        
        .dark-theme {
            --background-color: #333;
            --text-color: #fff;
        }
        
        .dark-theme .bg-primary {
            background-color: var(--primary-color) !important;
        }
        
        .dark-theme .text-white {
            color: var(--text-color) !important;
        }
    </style>
</head>
<body class="dark-theme">
    <div class="container-fluid">
        <!-- Authentication screens -->
        <div id="auth-container" class="d-flex flex-column justify-content-center align-items-center h-100">
            <div class="auth-logo">
                <img src="https://cdn.glitch.global/2ac452ce-4fe9-49bc-bef8-47241df17d07/default%20pic.png?v=1746110048911" alt="The Homies App Logo">
            </div>
            <div class="auth-card shadow">
                <div class="card-header text-center">
                    <h2 id="auth-title">Welcome to The Homies Chat</h2>
                </div>
                <div class="card-body">
                    <!-- Login Form -->
                    <form id="login-form" class="d-flex flex-column">
                        <div class="mb-3">
                            <label for="login-username" class="form-label">Username</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="bi bi-person"></i></span>
                                <input type="text" class="form-control" id="login-username" name="username" placeholder="Enter your username" required>
                            </div>
                        </div>
                        <div class="mb-4">
                            <label for="login-password" class="form-label">Password</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="bi bi-lock"></i></span>
                                <input type="password" class="form-control" id="login-password" name="password" placeholder="Enter your password" required>
                            </div>
                        </div>
                        <div id="login-error" class="alert alert-danger mb-3" style="display: none;"></div>
                        <button type="submit" id="login-btn" class="btn btn-primary mb-3">
                            <span id="login-btn-text">Sign In</span>
                            <span id="login-spinner" class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                        </button>
                        <!-- Registration link hidden by default, can be enabled by changing the d-none class -->
                        <div class="text-center d-none" id="registration-link-container">
                            <a href="#" id="show-register">Don't have an account? Sign up</a>
                        </div>
                    </form>

                    <!-- Registration Form -->
                    <form id="register-form" class="d-none d-flex flex-column">
                        <div class="mb-3">
                            <label for="register-username" class="form-label">Username</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="bi bi-person"></i></span>
                                <input type="text" class="form-control" id="register-username" placeholder="Choose a username" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="register-email" class="form-label">Email</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="bi bi-envelope"></i></span>
                                <input type="email" class="form-control" id="register-email" placeholder="Enter your email" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="register-password" class="form-label">Password</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="bi bi-lock"></i></span>
                                <input type="password" class="form-control" id="register-password" placeholder="Create a password" required>
                            </div>
                        </div>
                        <div class="mb-4">
                            <label for="register-confirm-password" class="form-label">Confirm Password</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="bi bi-lock-fill"></i></span>
                                <input type="password" class="form-control" id="register-confirm-password" placeholder="Confirm your password" required>
                            </div>
                            <div id="password-match-error" class="text-danger small mt-1" style="display: none;">Passwords do not match</div>
                        </div>
                        <div id="register-error" class="alert alert-danger mb-3" style="display: none;"></div>
                        <button type="submit" id="register-btn" class="btn btn-primary mb-3">
                            <span id="register-btn-text">Create Account</span>
                            <span id="register-spinner" class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                        </button>
                        <div class="text-center">
                            <a href="#" id="show-login">Already have an account? Sign in</a>
                        </div>
                    </form>
                </div>
                <div id="auth-message" class="alert d-none text-center"></div>
            </div>
            <div class="auth-footer mt-4">
                <p>&copy; 2025 The Homies Chat. All rights reserved.</p>
                <p>Secure messaging for you and your homies.</p>
            </div>
        </div>

        <!-- Main App - Discord Layout -->
        <div id="chat-container" class="d-none">
            
            <!-- Left Sidebar -->
            <div id="left-sidebar">
                <!-- App Logo -->
                <div class="app-logo">
                    <img src="https://cdn.glitch.global/2ac452ce-4fe9-49bc-bef8-47241df17d07/default%20pic.png?v=1747408645553" alt="The Homies Chat" class="app-icon">
                    <span>The Homies Chat</span>
                </div>
                
                <!-- Main Navigation -->
                <div class="main-nav">
                    <button class="nav-button active" id="home-button" title="Home">
                        <i class="bi bi-house-fill"></i>
                        <span>Home</span>
                    </button>
                    <button class="nav-button" id="dm-button" title="Direct Messages">
                        <i class="bi bi-chat-fill"></i>
                        <span>DMs</span>
                    </button>
                </div>
                
                <!-- Channels Section (shown when in Home view) -->
                <div id="channels-section">
                    <div class="section-header">
                        <span>CHANNELS</span>
                        <button id="add-channel-btn" class="btn-icon" title="Add Channel">
                            <i class="bi bi-plus-lg"></i>
                        </button>
                    </div>
                    <div id="channels-list" class="list-container">
                        <div class="list-item active" data-channel="general">
                            <i class="bi bi-hash"></i>
                            <span>general</span>
                        </div>
                        <div class="list-item" data-channel="announcements">
                            <i class="bi bi-hash"></i>
                            <span>announcements</span>
                        </div>
                        <div class="list-item" data-channel="memes">
                            <i class="bi bi-hash"></i>
                            <span>memes</span>
                        </div>
                    </div>
                </div>
                
                <!-- Friends Section (hidden by default, shown when DM button is clicked) -->
                <div id="friends-section" class="d-none">
                    <div class="section-header">
                        <span>FRIENDS</span>
                    </div>
                    
                    <!-- Friends Tab Navigation -->
                    <div class="friends-tabs">
                        <button class="friend-tab-btn active" data-tab="all">All</button>
                        <button class="friend-tab-btn" data-tab="pending">Pending</button>
                        <button class="friend-tab-btn" data-tab="blocked">Blocked</button>
                    </div>
                    
                    <!-- Friends Tab Content -->
                    <div class="friends-tab-content">
                        <!-- All Friends Tab -->
                        <div class="friends-tab-pane active" id="friends-all">
                            <div id="friends-list" class="list-container">
                                <!-- Friends will be added here by JS -->
                                <div class="empty-state">
                                    <i class="bi bi-people"></i>
                                    <p>No friends yet. Add some friends to chat with!</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Pending Friends Tab -->
                        <div class="friends-tab-pane" id="friends-pending">
                            <div id="pending-requests-list" class="list-container">
                                <!-- Pending requests will be added here by JS -->
                                <div class="empty-state">
                                    <i class="bi bi-hourglass"></i>
                                    <p>No pending friend requests</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Blocked Users Tab -->
                        <div class="friends-tab-pane" id="friends-blocked">
                            <div id="blocked-users-list" class="list-container">
                                <!-- Blocked users will be added here by JS -->
                                <div class="empty-state">
                                    <i class="bi bi-slash-circle"></i>
                                    <p>No blocked users</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Friend Code Display (moved from Add tab) -->
                        <div class="friend-code-container mt-3 p-3 border rounded d-none">
                            <h5>Your Friend Code</h5>
                            <p>Share this code with friends to connect:</p>
                            <div class="friend-code-display">
                                        <span id="my-friend-code">Loading...</span>
                                        <button class="btn btn-sm btn-outline-secondary" id="copy-friend-code-btn">
                                            <i class="bi bi-clipboard"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- DMs Section -->
                <div id="dm-section" class="d-none">
                    <div class="section-header">
                        <span>DIRECT MESSAGES</span>
                        <button id="create-dm-btn" class="btn-icon" title="New Message">
                            <i class="bi bi-pencil-square"></i>
                        </button>
                    </div>
                    <div id="dm-list" class="list-container">
                        <!-- DM items will be added here by JS -->
                        <div class="empty-state">
                            <i class="bi bi-chat"></i>
                            <p>No conversations yet</p>
                        </div>
                    </div>
                </div>
                
                <!-- User Profile Area -->
                <div class="user-profile-area">
                    <div class="user-avatar">
                        <img src="https://cdn.glitch.global/2ac452ce-4fe9-49bc-bef8-47241df17d07/default%20pic.png?v=1744642336378" alt="Your Avatar">
                        <div class="user-status online"></div>
                    </div>
                    <div class="user-details">
                        <div class="user-name" id="current-user">Username</div>
                    </div>
                    <div class="user-controls">
                        <button class="user-control-button" id="settings-button" title="Settings">
                            <i class="bi bi-gear-fill"></i>
                        </button>
                        <button class="user-control-button" id="logout-btn" title="Sign Out">
                            <i class="bi bi-box-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Main Content Area (Right) -->
            <div id="main-content">
                <!-- Chat Header -->
                <div id="chat-header">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-hash me-2"></i>
                        <span class="fw-bold" id="chat-title">general</span>
                    </div>
                    <div class="header-controls">
                        <button class="header-button" id="video-call-button" title="Start Video Call">
                            <i class="bi bi-camera-video-fill"></i>
                        </button>
                    </div>
                </div>

                <!-- Messages Container -->
                <div id="messages-container">
                    <!-- Messages will be added here by JS -->
                    <div class="date-separator">
                        <span>Today</span>
                    </div>
                    <div class="system-message">
                        Welcome to the beginning of #general
                    </div>
                </div>

                <!-- Message Input Area -->
                <div id="message-input-area">
                    <div class="message-input-container">
                        <div class="input-wrapper">
                            <textarea id="message-input" placeholder="Message #general" rows="1"></textarea>
                        </div>
                        <div class="message-controls">
                            <button class="message-control-button" id="emoji-button" title="Add Emoji">
                                <i class="bi bi-emoji-smile"></i>
                            </button>
                            <button class="message-control-button" id="attach-file-button" title="Attach File">
                                <i class="bi bi-paperclip"></i>
                            </button>
                            <button id="send-button" title="Send Message">
                                <i class="bi bi-send-fill"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Create Group Modal -->
        <div class="modal fade" id="create-group-modal" tabindex="-1" aria-labelledby="createGroupModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="createGroupModalLabel">Create New Group</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form id="create-group-form">
                            <div class="mb-3">
                                <label for="group-name" class="form-label">Group Name</label>
                                <input type="text" class="form-control" id="group-name" placeholder="My Awesome Group" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Add Friends</label>
                                <div id="friend-selection-list" class="friend-selection">
                                    <!-- Friend selection checkboxes will be added here by JS -->
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary" id="create-group-submit">Create Group</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Emoji Picker (hidden by default) -->
        <div class="emoji-picker d-none position-absolute">
            <div class="emoji-picker-header">
                <input type="text" id="emoji-search-input" placeholder="Search emojis...">
                <button id="emoji-picker-close" class="emoji-close-btn" title="Close">×</button>
            </div>
            <div class="emoji-categories">
                <button class="emoji-category active" data-category="recent">🕒</button>
                <button class="emoji-category" data-category="smileys">😀</button>
                <button class="emoji-category" data-category="people">👋</button>
                <button class="emoji-category" data-category="animals">🐱</button>
                <button class="emoji-category" data-category="food">🍔</button>
                <button class="emoji-category" data-category="travel">🚗</button>
                <button class="emoji-category" data-category="activities">⚽</button>
                <button class="emoji-category" data-category="objects">💡</button>
                <button class="emoji-category" data-category="symbols">❤️</button>
            </div>
            <div class="emoji-content">
                <div class="emoji-category-content active" data-category="recent">
                    <!-- Recent emojis will be populated by JavaScript -->
                </div>
                <div class="emoji-category-content" data-category="smileys">
                    <!-- Smileys & People -->
                    <button class="emoji-btn">😀</button>
                    <button class="emoji-btn">😃</button>
                    <button class="emoji-btn">😄</button>
                    <button class="emoji-btn">😁</button>
                    <button class="emoji-btn">😆</button>
                    <button class="emoji-btn">😅</button>
                    <button class="emoji-btn">😂</button>
                    <button class="emoji-btn">🤣</button>
                    <button class="emoji-btn">😊</button>
                    <button class="emoji-btn">😇</button>
                    <button class="emoji-btn">🙂</button>
                    <button class="emoji-btn">🙃</button>
                    <button class="emoji-btn">😉</button>
                    <button class="emoji-btn">😌</button>
                    <button class="emoji-btn">😍</button>
                    <button class="emoji-btn">🥰</button>
                    <button class="emoji-btn">😘</button>
                    <button class="emoji-btn">😗</button>
                    <button class="emoji-btn">😙</button>
                    <button class="emoji-btn">😚</button>
                    <button class="emoji-btn">😋</button>
                    <button class="emoji-btn">😛</button>
                    <button class="emoji-btn">😝</button>
                    <button class="emoji-btn">😜</button>
                    <button class="emoji-btn">🤪</button>
                    <button class="emoji-btn">🤨</button>
                    <button class="emoji-btn">🧐</button>
                    <button class="emoji-btn">🤓</button>
                    <button class="emoji-btn">😎</button>
                    <button class="emoji-btn">🤩</button>
                    <button class="emoji-btn">🥳</button>
                    <button class="emoji-btn">😏</button>
                    <button class="emoji-btn">😒</button>
                    <button class="emoji-btn">😞</button>
                    <button class="emoji-btn">😔</button>
                    <button class="emoji-btn">😟</button>
                    <button class="emoji-btn">😕</button>
                    <button class="emoji-btn">🙁</button>
                    <button class="emoji-btn">☹️</button>
                    <button class="emoji-btn">😣</button>
                    <button class="emoji-btn">😖</button>
                    <button class="emoji-btn">😫</button>
                    <button class="emoji-btn">😩</button>
                    <button class="emoji-btn">🥺</button>
                    <button class="emoji-btn">😢</button>
                    <button class="emoji-btn">😭</button>
                    <button class="emoji-btn">😤</button>
                    <button class="emoji-btn">😠</button>
                    <button class="emoji-btn">😡</button>
                    <button class="emoji-btn">🤬</button>
                    <button class="emoji-btn">🤯</button>
                    <button class="emoji-btn">😳</button>
                    <button class="emoji-btn">🫣</button>
                    <button class="emoji-btn">🫢</button>
                    <button class="emoji-btn">🥵</button>
                    <button class="emoji-btn">🥶</button>
                    <button class="emoji-btn">😶‍🌫️</button>
                    <button class="emoji-btn">😶</button>
                    <button class="emoji-btn">😐</button>
                    <button class="emoji-btn">😑</button>
                    <button class="emoji-btn">🙄</button>
                    <button class="emoji-btn">😬</button>
                    <button class="emoji-btn">🤥</button>
                    <button class="emoji-btn">😴</button>
                    <button class="emoji-btn">💤</button>
                    <button class="emoji-btn">😷</button>
                    <button class="emoji-btn">🤒</button>
                    <button class="emoji-btn">🤕</button>
                    <button class="emoji-btn">🤢</button>
                    <button class="emoji-btn">🤮</button>
                    <button class="emoji-btn">🤧</button>
                    <button class="emoji-btn">🥴</button>
                    <button class="emoji-btn">😵</button>
                    <button class="emoji-btn">😵‍💫</button>
                    <button class="emoji-btn">😲</button>
                    <button class="emoji-btn">😱</button>
                    <button class="emoji-btn">😨</button>
                    <button class="emoji-btn">😰</button>
                    <button class="emoji-btn">😥</button>
                    <button class="emoji-btn">😓</button>
                    <button class="emoji-btn">🤗</button>
                    <button class="emoji-btn">🤔</button>
                    <button class="emoji-btn">🤭</button>
                    <button class="emoji-btn">🤫</button>
                    <button class="emoji-btn">🤐</button>
                    <button class="emoji-btn">🫡</button>
                    <button class="emoji-btn">🤠</button>
                    <button class="emoji-btn">🥸</button>
                    <button class="emoji-btn">😈</button>
                    <button class="emoji-btn">👿</button>
                    <button class="emoji-btn">👹</button>
                    <button class="emoji-btn">👺</button>
                    <button class="emoji-btn">💀</button>
                    <button class="emoji-btn">☠️</button>
                    <button class="emoji-btn">👻</button>
                    <button class="emoji-btn">👽</button>
                    <button class="emoji-btn">🤖</button>
                    <button class="emoji-btn">😺</button>
                    <button class="emoji-btn">😸</button>
                    <button class="emoji-btn">😹</button>
                    <button class="emoji-btn">😻</button>
                    <button class="emoji-btn">😼</button>
                    <button class="emoji-btn">😽</button>
                    <button class="emoji-btn">🙀</button>
                    <button class="emoji-btn">😿</button>
                    <button class="emoji-btn">😾</button>
                </div>
                <div class="emoji-category-content" data-category="people">
                    <!-- People & Gestures -->
                    <button class="emoji-btn">👋</button>
                    <button class="emoji-btn">🤚</button>
                    <button class="emoji-btn">🖐</button>
                    <button class="emoji-btn">✋</button>
                    <button class="emoji-btn">🖖</button>
                    <button class="emoji-btn">👌</button>
                    <button class="emoji-btn">🤌</button>
                    <button class="emoji-btn">🤏</button>
                    <button class="emoji-btn">✌️</button>
                    <button class="emoji-btn">🤞</button>
                    <button class="emoji-btn">🫰</button>
                    <button class="emoji-btn">🤟</button>
                    <button class="emoji-btn">🤘</button>
                    <button class="emoji-btn">🤙</button>
                    <button class="emoji-btn">🖕</button>
                    <button class="emoji-btn">✊</button>
                    <button class="emoji-btn">👊</button>
                    <button class="emoji-btn">🤛</button>
                    <button class="emoji-btn">🤜</button>
                    <button class="emoji-btn">👈</button>
                    <button class="emoji-btn">👉</button>
                    <button class="emoji-btn">👆</button>
                    <button class="emoji-btn">👇</button>
                    <button class="emoji-btn">☝️</button>
                    <button class="emoji-btn">👍</button>
                    <button class="emoji-btn">👎</button>
                    <button class="emoji-btn">✍️</button>
                    <button class="emoji-btn">👏</button>
                    <button class="emoji-btn">🙌</button>
                    <button class="emoji-btn">🫶</button>
                    <button class="emoji-btn">👐</button>
                    <button class="emoji-btn">🤲</button>
                    <button class="emoji-btn">🤝</button>
                    <button class="emoji-btn">🙏</button>
                    <button class="emoji-btn">💅</button>
                    <button class="emoji-btn">🤳</button>
                    <button class="emoji-btn">💪</button>
                    <button class="emoji-btn">🦾</button>
                    <button class="emoji-btn">🧠</button>
                    <button class="emoji-btn">🦷</button>
                    <button class="emoji-btn">🦴</button>
                    <button class="emoji-btn">👀</button>
                    <button class="emoji-btn">👁</button>
                    <button class="emoji-btn">👃</button>
                    <button class="emoji-btn">👂</button>
                    <button class="emoji-btn">👄</button>
                    <button class="emoji-btn">🫦</button>
                    <button class="emoji-btn">🦵</button>
                    <button class="emoji-btn">🦶</button>
                    <button class="emoji-btn">🦿</button>
                    <button class="emoji-btn">🫀</button>
                    <button class="emoji-btn">🫁</button>
                    <button class="emoji-btn">🧔</button>
                    <button class="emoji-btn">👱</button>
                    <button class="emoji-btn">👩</button>
                    <button class="emoji-btn">👨</button>
                    <button class="emoji-btn">🧑</button>
                    <button class="emoji-btn">👧</button>
                    <button class="emoji-btn">🧒</button>
                    <button class="emoji-btn">👶</button>
                    <button class="emoji-btn">👵</button>
                    <button class="emoji-btn">👴</button>
                    <button class="emoji-btn">🧓</button>
                    <button class="emoji-btn">👮</button>
                    <button class="emoji-btn">🕵️‍♂️</button>
                    <button class="emoji-btn">💂</button>
                    <button class="emoji-btn">👷</button>
                    <button class="emoji-btn">🤴</button>
                    <button class="emoji-btn">👸</button>
                    <button class="emoji-btn">👰</button>
                    <button class="emoji-btn">🤵</button>
                    <button class="emoji-btn">🕺</button>
                    <button class="emoji-btn">💃</button>
                    <button class="emoji-btn">🕴</button>
                    <button class="emoji-btn">🧍</button>
                    <button class="emoji-btn">🧎</button>
                    <button class="emoji-btn">🚶</button>
                    <button class="emoji-btn">🏃</button>
                    <button class="emoji-btn">🤸</button>
                    <button class="emoji-btn">🧗</button>
                    <button class="emoji-btn">🤼</button>
                    <button class="emoji-btn">🤽</button>
                    <button class="emoji-btn">🤾</button>
                    <button class="emoji-btn">🤹</button>
                    <button class="emoji-btn">🧘</button>
                    <button class="emoji-btn">🛌</button>
                    <button class="emoji-btn">🧑‍🦽</button>
                    <button class="emoji-btn">🧑‍🦼</button>
                </div>
                <div class="emoji-category-content" data-category="animals">
                    <!-- Animals & Nature -->
                    <button class="emoji-btn">🐶</button>
                    <button class="emoji-btn">🐱</button>
                    <button class="emoji-btn">🐭</button>
                    <button class="emoji-btn">🐹</button>
                    <button class="emoji-btn">🐰</button>
                    <button class="emoji-btn">🦊</button>
                    <button class="emoji-btn">🐻</button>
                    <button class="emoji-btn">🐼</button>
                    <button class="emoji-btn">🐻‍❄️</button>
                    <button class="emoji-btn">🐨</button>
                    <button class="emoji-btn">🐯</button>
                    <button class="emoji-btn">🦁</button>
                    <button class="emoji-btn">🐮</button>
                    <button class="emoji-btn">🐷</button>
                    <button class="emoji-btn">🐽</button>
                    <button class="emoji-btn">🐸</button>
                    <button class="emoji-btn">🐵</button>
                    <button class="emoji-btn">🐔</button>
                    <button class="emoji-btn">🐧</button>
                    <button class="emoji-btn">🐦</button>
                    <button class="emoji-btn">🐤</button>
                    <button class="emoji-btn">🐣</button>
                    <button class="emoji-btn">🥭</button>
                    <button class="emoji-btn">🦆</button>
                    <button class="emoji-btn">🦅</button>
                    <button class="emoji-btn">🦉</button>
                    <button class="emoji-btn">🦇</button>
                    <button class="emoji-btn">🐺</button>
                    <button class="emoji-btn">🐗</button>
                    <button class="emoji-btn">🐴</button>
                    <button class="emoji-btn">🦄</button>
                    <button class="emoji-btn">🐝</button>
                    <button class="emoji-btn">🪱</button>
                    <button class="emoji-btn">🐛</button>
                    <button class="emoji-btn">🐌</button>
                    <button class="emoji-btn">🐞</button>
                    <button class="emoji-btn">🐜</button>
                    <button class="emoji-btn">🪰</button>
                    <button class="emoji-btn">🪲</button>
                    <button class="emoji-btn">🪳</button>
                    <button class="emoji-btn">🐢</button>
                    <button class="emoji-btn">🐍</button>
                    <button class="emoji-btn">🦎</button>
                    <button class="emoji-btn">🦂</button>
                    <button class="emoji-btn">🐙</button>
                    <button class="emoji-btn">🦑</button>
                    <button class="emoji-btn">🦐</button>
                    <button class="emoji-btn">🦞</button>
                    <button class="emoji-btn">🐠</button>
                    <button class="emoji-btn">🐟</button>
                    <button class="emoji-btn">🐬</button>
                    <button class="emoji-btn">🦭</button>
                    <button class="emoji-btn">🐳</button>
                    <button class="emoji-btn">🐋</button>
                    <button class="emoji-btn">🐊</button>
                    <button class="emoji-btn">🐅</button>
                    <button class="emoji-btn">🐆</button>
                    <button class="emoji-btn">🦓</button>
                    <button class="emoji-btn">🦍</button>
                    <button class="emoji-btn">🦧</button>
                    <button class="emoji-btn">🦣</button>
                    <button class="emoji-btn">🐘</button>
                    <button class="emoji-btn">🦛</button>
                    <button class="emoji-btn">🦏</button>
                    <button class="emoji-btn">🐪</button>
                    <button class="emoji-btn">🐫</button>
                    <button class="emoji-btn">🦙</button>
                    <button class="emoji-btn">🦒</button>
                    <button class="emoji-btn">🐃</button>
                    <button class="emoji-btn">🐂</button>
                    <button class="emoji-btn">🐄</button>
                    <button class="emoji-btn">🐎</button>
                    <button class="emoji-btn">🐖</button>
                    <button class="emoji-btn">🐏</button>
                    <button class="emoji-btn">🐑</button>
                    <button class="emoji-btn">🐐</button>
                    <button class="emoji-btn">🦌</button>
                    <button class="emoji-btn">🐕</button>
                    <button class="emoji-btn">🦮</button>
                    <button class="emoji-btn">🐩</button>
                    <button class="emoji-btn">🐈</button>
                    <button class="emoji-btn">🐓</button>
                    <button class="emoji-btn">🦃</button>
                    <button class="emoji-btn">🦤</button>
                    <button class="emoji-btn">🦚</button>
                    <button class="emoji-btn">🦜</button>
                    <button class="emoji-btn">🐇</button>
                    <button class="emoji-btn">🐁</button>
                    <button class="emoji-btn">🐀</button>
                    <button class="emoji-btn">🐿</button>
                    <button class="emoji-btn">🦫</button>
                    <button class="emoji-btn">🦔</button>
                    <button class="emoji-btn">🌵</button>
                    <button class="emoji-btn">🎄</button>
                    <button class="emoji-btn">🌲</button>
                    <button class="emoji-btn">🌳</button>
                    <button class="emoji-btn">🌴</button>
                    <button class="emoji-btn">🪵</button>
                    <button class="emoji-btn">🌱</button>
                    <button class="emoji-btn">🌿</button>
                    <button class="emoji-btn">☘️</button>
                    <button class="emoji-btn">🍀</button>
                    <button class="emoji-btn">🎍</button>
                    <button class="emoji-btn">🪴</button>
                    <button class="emoji-btn">🎋</button>
                    <button class="emoji-btn">🍃</button>
                    <button class="emoji-btn">🍂</button>
                    <button class="emoji-btn">🍁</button>
                    <button class="emoji-btn">🪺</button>
                    <button class="emoji-btn">🐚</button>
                    <button class="emoji-btn">🌾</button>
                    <button class="emoji-btn">🌻</button>
                    <button class="emoji-btn">🌼</button>
                    <button class="emoji-btn">🌸</button>
                    <button class="emoji-btn">🌺</button>
                    <button class="emoji-btn">🌹</button>
                    <button class="emoji-btn">🥀</button>
                    <button class="emoji-btn">🪷</button>
                    <button class="emoji-btn">🪻</button>
                </div>
                <div class="emoji-category-content" data-category="food">
                    <!-- Food & Drink -->
                    <button class="emoji-btn">🍇</button>
                    <button class="emoji-btn">🍈</button>
                    <button class="emoji-btn">🍉</button>
                    <button class="emoji-btn">🍊</button>
                    <button class="emoji-btn">🍋</button>
                    <button class="emoji-btn">🍌</button>
                    <button class="emoji-btn">🍍</button>
                    <button class="emoji-btn">🥭</button>
                    <button class="emoji-btn">🍎</button>
                    <button class="emoji-btn">🍏</button>
                    <button class="emoji-btn">🍐</button>
                    <button class="emoji-btn">🍑</button>
                    <button class="emoji-btn">🍒</button>
                    <button class="emoji-btn">🍓</button>
                    <button class="emoji-btn">🫐</button>
                    <button class="emoji-btn">🥝</button>
                    <button class="emoji-btn">🍅</button>
                    <button class="emoji-btn">🫒</button>
                    <button class="emoji-btn">🥥</button>
                    <button class="emoji-btn">🥑</button>
                    <button class="emoji-btn">🍆</button>
                    <button class="emoji-btn">🥔</button>
                    <button class="emoji-btn">🥕</button>
                    <button class="emoji-btn">🌽</button>
                    <button class="emoji-btn">🌶</button>
                    <button class="emoji-btn">🫑</button>
                    <button class="emoji-btn">🥒</button>
                    <button class="emoji-btn">🥬</button>
                    <button class="emoji-btn">🥦</button>
                    <button class="emoji-btn">🧄</button>
                    <button class="emoji-btn">🧅</button>
                    <button class="emoji-btn">🍄</button>
                    <button class="emoji-btn">🥜</button>
                    <button class="emoji-btn">🌰</button>
                    <button class="emoji-btn">🍞</button>
                    <button class="emoji-btn">🥐</button>
                    <button class="emoji-btn">🥖</button>
                    <button class="emoji-btn">🥯</button>
                    <button class="emoji-btn">🥞</button>
                    <button class="emoji-btn">🧇</button>
                    <button class="emoji-btn">🧀</button>
                    <button class="emoji-btn">🍖</button>
                    <button class="emoji-btn">🍗</button>
                    <button class="emoji-btn">🥩</button>
                    <button class="emoji-btn">🥓</button>
                    <button class="emoji-btn">🍔</button>
                    <button class="emoji-btn">🍟</button>
                    <button class="emoji-btn">🍕</button>
                    <button class="emoji-btn">🌭</button>
                    <button class="emoji-btn">🥪</button>
                    <button class="emoji-btn">🌮</button>
                    <button class="emoji-btn">🌯</button>
                    <button class="emoji-btn">🥙</button>
                    <button class="emoji-btn">🧆</button>
                    <button class="emoji-btn">🥘</button>
                    <button class="emoji-btn">🥗</button>
                    <button class="emoji-btn">🍝</button>
                    <button class="emoji-btn">🍜</button>
                    <button class="emoji-btn">🍲</button>
                    <button class="emoji-btn">🍛</button>
                    <button class="emoji-btn">🍣</button>
                    <button class="emoji-btn">🍱</button>
                    <button class="emoji-btn">🥟</button>
                    <button class="emoji-btn">🦪</button>
                    <button class="emoji-btn">🍤</button>
                    <button class="emoji-btn">🍙</button>
                    <button class="emoji-btn">🍚</button>
                    <button class="emoji-btn">🍘</button>
                    <button class="emoji-btn">🍥</button>
                    <button class="emoji-btn">🥠</button>
                    <button class="emoji-btn">🥮</button>
                    <button class="emoji-btn">🍢</button>
                    <button class="emoji-btn">🍡</button>
                    <button class="emoji-btn">🍧</button>
                    <button class="emoji-btn">🍨</button>
                    <button class="emoji-btn">🍦</button>
                    <button class="emoji-btn">🧁</button>
                    <button class="emoji-btn">🍰</button>
                    <button class="emoji-btn">🎂</button>
                    <button class="emoji-btn">🍮</button>
                    <button class="emoji-btn">🍭</button>
                    <button class="emoji-btn">🍬</button>
                    <button class="emoji-btn">🍫</button>
                    <button class="emoji-btn">🍿</button>
                    <button class="emoji-btn">🧋</button>
                    <button class="emoji-btn">🧃</button>
                    <button class="emoji-btn">🧉</button>
                    <button class="emoji-btn">🧊</button>
                    <button class="emoji-btn">🥤</button>
                    <button class="emoji-btn">☕</button>
                    <button class="emoji-btn">🍵</button>
                    <button class="emoji-btn">🥛</button>
                    <button class="emoji-btn">🍼</button>
                    <button class="emoji-btn">🥂</button>
                    <button class="emoji-btn">🍻</button>
                    <button class="emoji-btn">🥃</button>
                    <button class="emoji-btn">🍷</button>
                    <button class="emoji-btn">🍸</button>
                    <button class="emoji-btn">🍹</button>
                    <button class="emoji-btn">🍶</button>
                    <button class="emoji-btn">🫗</button>
                </div>
                <div class="emoji-category-content" data-category="travel">
                    <!-- Travel & Places -->
                    <button class="emoji-btn">🚗</button>
                    <button class="emoji-btn">🚕</button>
                    <button class="emoji-btn">🚙</button>
                    <button class="emoji-btn">🚌</button>
                    <button class="emoji-btn">🚎</button>
                    <button class="emoji-btn">🏎</button>
                    <button class="emoji-btn">🚓</button>
                    <button class="emoji-btn">🚑</button>
                    <button class="emoji-btn">🚒</button>
                    <button class="emoji-btn">🚐</button>
                    <button class="emoji-btn">🚚</button>
                    <button class="emoji-btn">🚛</button>
                    <button class="emoji-btn">🚜</button>
                    <button class="emoji-btn">🛻</button>
                    <button class="emoji-btn">🛺</button>
                    <button class="emoji-btn">🏍</button>
                    <button class="emoji-btn">🛵</button>
                    <button class="emoji-btn">🚲</button>
                    <button class="emoji-btn">🛴</button>
                    <button class="emoji-btn">🚨</button>
                    <button class="emoji-btn">🚦</button>
                    <button class="emoji-btn">🚧</button>
                    <button class="emoji-btn">⛽</button>
                    <button class="emoji-btn">🛞</button>
                    <button class="emoji-btn">🚏</button>
                    <button class="emoji-btn">🛫</button>
                    <button class="emoji-btn">🛬</button>
                    <button class="emoji-btn">🛩</button>
                    <button class="emoji-btn">✈️</button>
                    <button class="emoji-btn">🚀</button>
                    <button class="emoji-btn">🛸</button>
                    <button class="emoji-btn">🚁</button>
                    <button class="emoji-btn">🛶</button>
                    <button class="emoji-btn">⛵</button>
                    <button class="emoji-btn">🚤</button>
                    <button class="emoji-btn">🛥</button>
                    <button class="emoji-btn">🛳</button>
                    <button class="emoji-btn">⚓</button>
                    <button class="emoji-btn">🗿</button>
                    <button class="emoji-btn">🗽</button>
                    <button class="emoji-btn">🗼</button>
                    <button class="emoji-btn">🏰</button>
                    <button class="emoji-btn">🏯</button>
                    <button class="emoji-btn">🏟</button>
                    <button class="emoji-btn">🏛</button>
                    <button class="emoji-btn">🏗</button>
                    <button class="emoji-btn">🧱</button>
                    <button class="emoji-btn">🪨</button>
                    <button class="emoji-btn">🛖</button>
                    <button class="emoji-btn">🏠</button>
                    <button class="emoji-btn">🏡</button>
                    <button class="emoji-btn">🏘</button>
                    <button class="emoji-btn">🏚</button>
                    <button class="emoji-btn">🏢</button>
                    <button class="emoji-btn">🏬</button>
                    <button class="emoji-btn">🏣</button>
                    <button class="emoji-btn">🏤</button>
                    <button class="emoji-btn">🏥</button>
                    <button class="emoji-btn">🏦</button>
                    <button class="emoji-btn">🏨</button>
                    <button class="emoji-btn">🏪</button>
                    <button class="emoji-btn">🏫</button>
                    <button class="emoji-btn">🏩</button>
                    <button class="emoji-btn">⛪</button>
                    <button class="emoji-btn">🕌</button>
                    <button class="emoji-btn">🕍</button>
                    <button class="emoji-btn">⛩</button>
                    <button class="emoji-btn">🛕</button>
                    <button class="emoji-btn">🕋</button>
                    <button class="emoji-btn">🌁</button>
                    <button class="emoji-btn">🌃</button>
                    <button class="emoji-btn">🌆</button>
                    <button class="emoji-btn">🌇</button>
                    <button class="emoji-btn">🏙</button>
                    <button class="emoji-btn">🌉</button>
                    <button class="emoji-btn">🌌</button>
                    <button class="emoji-btn">🌄</button>
                    <button class="emoji-btn">🌅</button>
                    <button class="emoji-btn">🌠</button>
                </div>
                <div class="emoji-category-content" data-category="activities">
                    <!-- Activities & Sports -->
                    <button class="emoji-btn">⚽</button>
                    <button class="emoji-btn">🏀</button>
                    <button class="emoji-btn">🏈</button>
                    <button class="emoji-btn">⚾</button>
                    <button class="emoji-btn">🥎</button>
                    <button class="emoji-btn">🏐</button>
                    <button class="emoji-btn">🏉</button>
                    <button class="emoji-btn">🎾</button>
                    <button class="emoji-btn">🥏</button>
                    <button class="emoji-btn">🏓</button>
                    <button class="emoji-btn">🏸</button>
                    <button class="emoji-btn">🥅</button>
                    <button class="emoji-btn">🏒</button>
                    <button class="emoji-btn">🏑</button>
                    <button class="emoji-btn">🥍</button>
                    <button class="emoji-btn">🏏</button>
                    <button class="emoji-btn">🪃</button>
                    <button class="emoji-btn">🥌</button>
                    <button class="emoji-btn">🎱</button>
                    <button class="emoji-btn">🪀</button>
                    <button class="emoji-btn">🪁</button>
                    <button class="emoji-btn">🏹</button>
                    <button class="emoji-btn">🎣</button>
                    <button class="emoji-btn">🤿</button>
                    <button class="emoji-btn">🥊</button>
                    <button class="emoji-btn">🥋</button>
                    <button class="emoji-btn">🎽</button>
                    <button class="emoji-btn">🛹</button>
                    <button class="emoji-btn">🛷</button>
                    <button class="emoji-btn">⛸</button>
                    <button class="emoji-btn">🎿</button>
                    <button class="emoji-btn">⛷</button>
                    <button class="emoji-btn">🏂</button>
                    <button class="emoji-btn">🪂</button>
                    <button class="emoji-btn">🏋️</button>
                    <button class="emoji-btn">🤼</button>
                    <button class="emoji-btn">🤸</button>
                    <button class="emoji-btn">🤺</button>
                    <button class="emoji-btn">🤾</button>
                    <button class="emoji-btn">🏌️</button>
                    <button class="emoji-btn">🏇</button>
                    <button class="emoji-btn">🧘</button>
                    <button class="emoji-btn">🏄</button>
                    <button class="emoji-btn">🏊</button>
                    <button class="emoji-btn">🤽</button>
                    <button class="emoji-btn">🚣</button>
                    <button class="emoji-btn">🧗</button>
                    <button class="emoji-btn">🚵</button>
                    <button class="emoji-btn">🚴</button>
                    <button class="emoji-btn">🧑‍🦯</button>
                    <button class="emoji-btn">🤹</button>
                    <button class="emoji-btn">🎭</button>
                    <button class="emoji-btn">🎨</button>
                    <button class="emoji-btn">🎬</button>
                    <button class="emoji-btn">🎤</button>
                    <button class="emoji-btn">🎧</button>
                    <button class="emoji-btn">🎼</button>
                    <button class="emoji-btn">🎹</button>
                    <button class="emoji-btn">🥁</button>
                    <button class="emoji-btn">🎷</button>
                    <button class="emoji-btn">🎺</button>
                    <button class="emoji-btn">🪗</button>
                    <button class="emoji-btn">🎸</button>
                    <button class="emoji-btn">🪕</button>
                    <button class="emoji-btn">🎻</button>
                    <button class="emoji-btn">🪘</button>
                </div>
                <div class="emoji-category-content" data-category="objects">
                    <!-- Objects & Symbols -->
                    <button class="emoji-btn">🎁</button>
                    <button class="emoji-btn">🎈</button>
                    <button class="emoji-btn">🎉</button>
                    <button class="emoji-btn">🎊</button>
                    <button class="emoji-btn">🎀</button>
                    <button class="emoji-btn">🎐</button>
                    <button class="emoji-btn">🧧</button>
                    <button class="emoji-btn">🎎</button>
                    <button class="emoji-btn">🪅</button>
                    <button class="emoji-btn">🪩</button>
                    <button class="emoji-btn">💌</button>
                    <button class="emoji-btn">💣</button>
                    <button class="emoji-btn">🔪</button>
                    <button class="emoji-btn">🧨</button>
                    <button class="emoji-btn">🪓</button>
                    <button class="emoji-btn">🧱</button>
                    <button class="emoji-btn">🛢</button>
                    <button class="emoji-btn">🧰</button>
                    <button class="emoji-btn">🪛</button>
                    <button class="emoji-btn">🔧</button>
                    <button class="emoji-btn">🔨</button>
                    <button class="emoji-btn">⚒</button>
                    <button class="emoji-btn">🛠</button>
                    <button class="emoji-btn">⛏</button>
                    <button class="emoji-btn">🪚</button>
                    <button class="emoji-btn">🔩</button>
                    <button class="emoji-btn">⚙️</button>
                    <button class="emoji-btn">🧲</button>
                    <button class="emoji-btn">🧪</button>
                    <button class="emoji-btn">🧫</button>
                    <button class="emoji-btn">🧬</button>
                    <button class="emoji-btn">🧯</button>
                    <button class="emoji-btn">🛒</button>
                    <button class="emoji-btn">🚬</button>
                    <button class="emoji-btn">⚰️</button>
                    <button class="emoji-btn">⚱️</button>
                    <button class="emoji-btn">🪦</button>
                    <button class="emoji-btn">🗿</button>
                    <button class="emoji-btn">🛍</button>
                    <button class="emoji-btn">💼</button>
                    <button class="emoji-btn">📦</button>
                    <button class="emoji-btn">📫</button>
                    <button class="emoji-btn">📮</button>
                    <button class="emoji-btn">🗳</button>
                    <button class="emoji-btn">🖋</button>
                    <button class="emoji-btn">🖊</button>
                    <button class="emoji-btn">🖌</button>
                    <button class="emoji-btn">🖍</button>
                    <button class="emoji-btn">✏️</button>
                    <button class="emoji-btn">📝</button>
                    <button class="emoji-btn">🗒</button>
                    <button class="emoji-btn">📒</button>
                    <button class="emoji-btn">📕</button>
                    <button class="emoji-btn">📗</button>
                    <button class="emoji-btn">📘</button>
                    <button class="emoji-btn">📙</button>
                    <button class="emoji-btn">📓</button>
                    <button class="emoji-btn">📔</button>
                    <button class="emoji-btn">📚</button>
                    <button class="emoji-btn">📖</button>
                    <button class="emoji-btn">🔖</button>
                    <button class="emoji-btn">🧷</button>
                    <button class="emoji-btn">📎</button>
                    <button class="emoji-btn">🖇</button>
                    <button class="emoji-btn">📐</button>
                    <button class="emoji-btn">📏</button>
                    <button class="emoji-btn">🧮</button>
                    <button class="emoji-btn">🔍</button>
                    <button class="emoji-btn">🔎</button>
                    <button class="emoji-btn">🧿</button>
                    <button class="emoji-btn">🛡</button>
                    <button class="emoji-btn">🗝</button>
                    <button class="emoji-btn">🔑</button>
                    <button class="emoji-btn">💡</button>
                    <button class="emoji-btn">🔦</button>
                    <button class="emoji-btn">🕯</button>
                    <button class="emoji-btn">🪔</button>
                </div>
                <div class="emoji-category-content" data-category="symbols">
                    <!-- Symbols -->
                    <button class="emoji-btn">❤️</button>
                    <button class="emoji-btn">🧡</button>
                    <button class="emoji-btn">💛</button>
                    <button class="emoji-btn">💚</button>
                    <button class="emoji-btn">💙</button>
                    <button class="emoji-btn">💜</button>
                    <button class="emoji-btn">🖤</button>
                    <button class="emoji-btn">🤍</button>
                    <button class="emoji-btn">🤎</button>
                    <button class="emoji-btn">💔</button>
                    <button class="emoji-btn">❣️</button>
                    <button class="emoji-btn">💕</button>
                    <button class="emoji-btn">💞</button>
                    <button class="emoji-btn">💓</button>
                    <button class="emoji-btn">💗</button>
                    <button class="emoji-btn">💖</button>
                    <button class="emoji-btn">💘</button>
                    <button class="emoji-btn">💝</button>
                    <button class="emoji-btn">💟</button>
                    <button class="emoji-btn">☮️</button>
                    <button class="emoji-btn">✝️</button>
                    <button class="emoji-btn">☪️</button>
                    <button class="emoji-btn">🕉</button>
                    <button class="emoji-btn">✡️</button>
                    <button class="emoji-btn">🔯</button>
                    <button class="emoji-btn">🕎</button>
                    <button class="emoji-btn">☯️</button>
                    <button class="emoji-btn">☦️</button>
                    <button class="emoji-btn">🛐</button>
                    <button class="emoji-btn">⛎</button>
                    <button class="emoji-btn">♈</button>
                    <button class="emoji-btn">♉</button>
                    <button class="emoji-btn">♊</button>
                    <button class="emoji-btn">♋</button>
                    <button class="emoji-btn">♌</button>
                    <button class="emoji-btn">♍</button>
                    <button class="emoji-btn">♎</button>
                    <button class="emoji-btn">♏</button>
                    <button class="emoji-btn">♐</button>
                    <button class="emoji-btn">♑</button>
                    <button class="emoji-btn">♒</button>
                    <button class="emoji-btn">♓</button>
                    <button class="emoji-btn">🆔</button>
                    <button class="emoji-btn">⚛</button>
                    <button class="emoji-btn">🉑</button>
                    <button class="emoji-btn">☢️</button>
                    <button class="emoji-btn">☣️</button>
                    <button class="emoji-btn">📴</button>
                    <button class="emoji-btn">📳</button>
                    <button class="emoji-btn">🔔</button>
                    <button class="emoji-btn">🔕</button>
                    <button class="emoji-btn">🔊</button>
                    <button class="emoji-btn">📢</button>
                    <button class="emoji-btn">📣</button>
                    <button class="emoji-btn">🪧</button>
                    <button class="emoji-btn">🔒</button>
                    <button class="emoji-btn">🔓</button>
                    <button class="emoji-btn">🔐</button>
                    <button class="emoji-btn">🔏</button>
                </div>
            </div>
        </div>

        <!-- Add Friend Modal -->
        <div class="modal fade" id="add-friend-modal" tabindex="-1" aria-labelledby="addFriendModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="addFriendModalLabel">Add Friend</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <ul class="nav nav-tabs mb-3" id="friendTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="username-tab" data-bs-toggle="tab" data-bs-target="#username-tab-pane" type="button" role="tab" aria-controls="username-tab-pane" aria-selected="true">Username</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="friend-code-tab" data-bs-toggle="tab" data-bs-target="#friend-code-tab-pane" type="button" role="tab" aria-controls="friend-code-tab-pane" aria-selected="false">Friend Code</button>
                            </li>
                        </ul>
                        <div class="tab-content" id="friendTabsContent">
                            <!-- Username Tab -->
                            <div class="tab-pane fade show active" id="username-tab-pane" role="tabpanel" aria-labelledby="username-tab" tabindex="0">
                                <div class="mb-3">
                                    <label for="friend-username-input" class="form-label">USERNAME</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" id="friend-username-input" placeholder="Enter a username">
                                        <button class="btn btn-primary" type="button" id="send-friend-request-btn">Send Friend Request</button>
                                    </div>
                                    <small class="text-muted">Enter a username to send a friend request</small>
                                </div>
                            </div>
                            
                            <!-- Friend Code Tab -->
                            <div class="tab-pane fade" id="friend-code-tab-pane" role="tabpanel" aria-labelledby="friend-code-tab" tabindex="0">
                                <div class="mb-3">
                                    <label for="your-friend-code" class="form-label">YOUR FRIEND CODE</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" id="your-friend-code" readonly>
                                        <button class="btn btn-secondary" type="button" id="copy-friend-code-btn" title="Copy to clipboard">
                                            <i class="bi bi-clipboard"></i>
                                        </button>
                                        <button class="btn btn-outline-secondary" type="button" id="generate-friend-code-btn" title="Generate new code">
                                            <i class="bi bi-arrow-repeat"></i>
                                        </button>
                                    </div>
                                    <small class="text-muted">Share this code with friends to let them add you</small>
                                </div>
                                
                                <div class="mb-3 mt-4">
                                    <label for="friend-code-input" class="form-label">ENTER FRIEND CODE</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" id="friend-code-input" placeholder="Enter a friend code">
                                        <button class="btn btn-primary" type="button" id="send-friend-request-by-code-btn">Add Friend</button>
                                    </div>
                                    <small class="text-muted">Enter a friend code to send a friend request</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <h6>PENDING FRIEND REQUESTS</h6>
                            <div id="pending-requests-list" class="list-group">
                                <!-- Pending requests will be populated here -->
                                <div class="list-group-item d-none" id="no-pending-requests">
                                    <p class="mb-0 text-muted">No pending friend requests</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Create Group Chat Modal -->
        <div class="modal fade" id="create-group-modal" tabindex="-1" aria-labelledby="createGroupModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="createGroupModalLabel">Create Group Chat</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <div class="group-avatar-container text-center">
                                    <div class="group-avatar-preview">
                                        <img src="https://cdn.glitch.global/2ac452ce-4fe9-49bc-bef8-47241df17d07/default%20pic.png?v=1746110048911" alt="Group Avatar" id="group-avatar-preview">
                                    </div>
                                    <button class="btn btn-sm btn-primary mt-2" id="upload-group-avatar-btn">Upload Avatar</button>
                                    <input type="file" id="group-avatar-input" accept="image/*" class="d-none">
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="mb-3">
                                    <label for="group-name-input" class="form-label">Group Name</label>
                                    <input type="text" class="form-control" id="group-name-input" placeholder="Enter a name for your group">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Select Friends</label>
                                    <div class="input-group mb-2">
                                        <input type="text" class="form-control" id="group-friend-search" placeholder="Search friends...">
                                        <button class="btn btn-outline-secondary" type="button" id="group-friend-search-btn">
                                            <i class="bi bi-search"></i>
                                        </button>
                                    </div>
                                    <div class="friends-selection-container" id="group-friends-selection">
                                        <!-- Friends will be populated here by JS -->
                                        <div class="empty-state">
                                            <p>No friends available to add</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="selected-friends-container mt-3">
                            <label class="form-label">Selected Friends (<span id="selected-friends-count">0</span>)</label>
                            <div id="selected-friends-list" class="d-flex flex-wrap gap-2">
                                <!-- Selected friends will appear here -->
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary" id="create-group-chat-btn">Create Group Chat</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- New DM Modal -->
        <div class="modal fade" id="new-dm-modal" tabindex="-1" aria-labelledby="newDmModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="newDmModalLabel">New Message</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label class="form-label">Select a Friend</label>
                            <div class="input-group mb-2">
                                <input type="text" class="form-control" id="dm-friend-search" placeholder="Search friends...">
                                <button class="btn btn-outline-secondary" type="button" id="dm-friend-search-btn">
                                    <i class="bi bi-search"></i>
                                </button>
                            </div>
                            <div class="friends-selection-container" id="dm-friends-selection">
                                <!-- Friends will be populated here by JS -->
                                <div class="empty-state">
                                    <p>No friends available</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary" id="start-dm-btn" disabled>Start Conversation</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Friend Request Notification Modal -->
        <div class="modal fade" id="friend-request-notification-modal" tabindex="-1" aria-labelledby="friendRequestModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="friendRequestModalLabel">Friend Request</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p id="friend-request-message">You have a new friend request from <span id="friend-request-username"></span>.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" id="reject-friend-request-btn" data-bs-dismiss="modal">Reject</button>
                        <button type="button" class="btn btn-primary" id="accept-friend-request-btn">Accept</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Modal -->
        <div class="modal fade" id="settings-modal" tabindex="-1" aria-labelledby="settingsModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="settingsModalLabel">Settings</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <ul class="nav nav-tabs" id="settingsTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="true">Profile</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="appearance-tab" data-bs-toggle="tab" data-bs-target="#appearance-tab-pane" type="button" role="tab" aria-controls="appearance-tab-pane" aria-selected="false">Appearance</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="notifications-tab" data-bs-toggle="tab" data-bs-target="#notifications-tab-pane" type="button" role="tab" aria-controls="notifications-tab-pane" aria-selected="false">Notifications</button>
                            </li>
                        </ul>
                        <div class="tab-content pt-3" id="settingsTabContent">
                            <!-- Profile Tab -->
                            <div class="tab-pane fade show active" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">
                                <div class="profile-settings">
                                    <div class="profile-picture-section text-center mb-4">
                                        <div class="profile-picture-container mx-auto mb-3">
                                            <img id="profile-picture-preview" src="https://cdn.glitch.global/2ac452ce-4fe9-49bc-bef8-47241df17d07/default%20pic.png?v=1746110048911" alt="Profile Picture" class="profile-picture-large">
                                            <div class="profile-picture-overlay">
                                                <i class="bi bi-camera-fill"></i>
                                            </div>
                                        </div>
                                        <input type="file" id="profile-picture-input" accept="image/*" class="d-none">
                                        <button id="change-profile-picture-btn" class="btn btn-sm btn-primary">Change Profile Picture</button>
                                    </div>
                                    <div class="form-group mb-3">
                                        <label for="display-name" class="form-label">Display Name</label>
                                        <input type="text" class="form-control" id="display-name" placeholder="Your display name">
                                    </div>
                                    <div class="form-group mb-3">
                                        <label for="status-message" class="form-label">Status Message</label>
                                        <input type="text" class="form-control" id="status-message" placeholder="What's on your mind?">
                                    </div>
                                    <div class="form-group mb-3">
                                        <label class="form-label d-block">Status</label>
                                        <div class="btn-group status-selector" role="group">
                                            <button type="button" class="btn btn-outline-primary active" data-status="online">
                                                <span class="status-indicator online"></span> Online
                                            </button>
                                            <button type="button" class="btn btn-outline-primary" data-status="idle">
                                                <span class="status-indicator idle"></span> Idle
                                            </button>
                                            <button type="button" class="btn btn-outline-primary" data-status="dnd">
                                                <span class="status-indicator dnd"></span> Do Not Disturb
                                            </button>
                                            <button type="button" class="btn btn-outline-primary" data-status="invisible">
                                                <span class="status-indicator invisible"></span> Invisible
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Appearance Tab -->
                            <div class="tab-pane fade" id="appearance-tab-pane" role="tabpanel" aria-labelledby="appearance-tab" tabindex="0">
                                <div class="form-group mb-3">
                                    <label class="form-label">Theme</label>
                                    <div class="theme-options">
                                        <div class="theme-option active" data-theme="dark">
                                            <div class="theme-preview dark-theme-preview"></div>
                                            <span>Dark</span>
                                        </div>
                                        <div class="theme-option" data-theme="light">
                                            <div class="theme-preview light-theme-preview"></div>
                                            <span>Light</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="font-size" class="form-label">Font Size</label>
                                    <select class="form-select" id="font-size">
                                        <option value="small">Small</option>
                                        <option value="medium" selected>Medium</option>
                                        <option value="large">Large</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Notifications Tab -->
                            <div class="tab-pane fade" id="notifications-tab-pane" role="tabpanel" aria-labelledby="notifications-tab" tabindex="0">
                                <div class="form-check form-switch mb-3">
                                    <input class="form-check-input" type="checkbox" id="enable-notifications" checked>
                                    <label class="form-check-label" for="enable-notifications">Enable Notifications</label>
                                </div>
                                <div class="form-check form-switch mb-3">
                                    <input class="form-check-input" type="checkbox" id="notification-sounds" checked>
                                    <label class="form-check-label" for="notification-sounds">Notification Sounds</label>
                                </div>
                                <div class="form-check form-switch mb-3">
                                    <input class="form-check-input" type="checkbox" id="message-preview">
                                    <label class="form-check-label" for="message-preview">Show Message Preview</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary" id="save-settings">Save Changes</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Call Interface -->
        <div id="call-container" class="position-absolute top-0 start-0 w-100 h-100 bg-dark bg-opacity-75 d-none flex-column justify-content-center align-items-center">
            <div class="card call-card">
                <div class="card-header text-center">
                    <h3 id="call-status">Video Call</h3>
                </div>
                <div class="card-body text-center">
                    <div class="video-grid">
                        <div class="video-container">
                            <video id="local-video" autoplay muted playsinline></video>
                            <div class="video-label">You</div>
                        </div>
                        <div class="video-container">
                            <video id="remote-video" autoplay playsinline></video>
                            <div id="remote-user-name" class="video-label">Remote User</div>
                        </div>
                    </div>
                    <div class="call-controls mt-3">
                        <button id="toggle-audio" class="btn btn-outline-secondary mx-1">
                            <i class="bi bi-mic-fill"></i>
                        </button>
                        <button id="toggle-video" class="btn btn-outline-secondary mx-1">
                            <i class="bi bi-camera-video-fill"></i>
                        </button>
                        <button id="share-screen" class="btn btn-outline-secondary mx-1">
                            <i class="bi bi-display"></i>
                        </button>
                        <button id="end-call" class="btn btn-danger mx-1">
                            <i class="bi bi-telephone-x-fill"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script src="js/auth-client.js"></script>
    <script src="js/login-handler-clean.js"></script>
    <script src="js/register-handler.js"></script>
    <script src="js/chat.js"></script>
    <script src="js/emoji-picker.js"></script>
    <script src="js/main.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
